<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Thai Tone Run - 200 Words Masterclass</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&family=Noto+Sans+Thai:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', 'Noto Sans Thai', sans-serif;
            background-color: #1e5e41;
            margin: 0;
            overflow: hidden;
            -webkit-tap-highlight-color: transparent;
        }
        @keyframes bounce-slow {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .animate-bounce-slow { animation: bounce-slow 2s infinite ease-in-out; }
        @keyframes pulse-subtle {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(0.98); }
        }
        .animate-pulse-subtle { animation: pulse-subtle 4s infinite ease-in-out; }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/"
  }
}
</script>
</head>
<body>
    <div id="root"></div>

    <script type="module">
        import React, { useState, useEffect, useCallback, useRef } from 'https://esm.sh/react@19.2.3';
        import ReactDOM from 'https://esm.sh/react-dom@19.2.3/client';

        const h = React.createElement;
        const f = React.Fragment;

        const ThaiTone = Object.freeze({
            Mid: 'Mid',
            Low: 'Low',
            Falling: 'Falling',
            High: 'High',
            Rising: 'Rising'
        });

        const THAI_WORDS = [
            // Numbers 0-20
            { word: '‡∏®‡∏π‡∏ô‡∏¢‡πå', transliteration: 'soon', tone: ThaiTone.Rising, translation: 'zero' },
            { word: '‡∏´‡∏ô‡∏∂‡πà‡∏á', transliteration: 'nueng', tone: ThaiTone.Low, translation: 'one' },
            { word: '‡∏™‡∏≠‡∏á', transliteration: 'song', tone: ThaiTone.Rising, translation: 'two' },
            { word: '‡∏™‡∏≤‡∏°', transliteration: 'saam', tone: ThaiTone.Rising, translation: 'three' },
            { word: '‡∏™‡∏µ‡πà', transliteration: 'see', tone: ThaiTone.Low, translation: 'four' },
            { word: '‡∏´‡πâ‡∏≤', transliteration: 'haa', tone: ThaiTone.Falling, translation: 'five' },
            { word: '‡∏´‡∏Å', transliteration: 'hok', tone: ThaiTone.Low, translation: 'six' },
            { word: '‡πÄ‡∏à‡πá‡∏î', transliteration: 'jet', tone: ThaiTone.Low, translation: 'seven' },
            { word: '‡πÅ‡∏õ‡∏î', transliteration: 'paet', tone: ThaiTone.Low, translation: 'eight' },
            { word: '‡πÄ‡∏Å‡πâ‡∏≤', transliteration: 'gao', tone: ThaiTone.Falling, translation: 'nine' },
            { word: '‡∏™‡∏¥‡∏ö', transliteration: 'sip', tone: ThaiTone.Low, translation: 'ten' },
            { word: '‡∏™‡∏¥‡∏ö‡πÄ‡∏≠‡πá‡∏î', syllables: ['‡∏™‡∏¥‡∏ö', '‡πÄ‡∏≠‡πá‡∏î'], targetIndex: 1, transliteration: 'sip-et', tone: ThaiTone.Low, translation: 'eleven' },
            { word: '‡∏™‡∏¥‡∏ö‡∏™‡∏≠‡∏á', syllables: ['‡∏™‡∏¥‡∏ö', '‡∏™‡∏≠‡∏á'], targetIndex: 1, transliteration: 'sip-song', tone: ThaiTone.Rising, translation: 'twelve' },
            { word: '‡∏¢‡∏µ‡πà‡∏™‡∏¥‡∏ö', syllables: ['‡∏¢‡∏µ‡πà', '‡∏™‡∏¥‡∏ö'], targetIndex: 0, transliteration: 'yee-sip', tone: ThaiTone.Falling, translation: 'twenty' },
            { word: '‡∏£‡πâ‡∏≠‡∏¢', transliteration: 'roi', tone: ThaiTone.High, translation: 'hundred' },
            { word: '‡∏û‡∏±‡∏ô', transliteration: 'phan', tone: ThaiTone.Mid, translation: 'thousand' },
            
            // Colors
            { word: '‡πÅ‡∏î‡∏á', transliteration: 'daeng', tone: ThaiTone.Mid, translation: 'red' },
            { word: '‡∏î‡∏≥', transliteration: 'dam', tone: ThaiTone.Mid, translation: 'black' },
            { word: '‡∏Ç‡∏≤‡∏ß', transliteration: 'khao', tone: ThaiTone.Rising, translation: 'white' },
            { word: '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', transliteration: 'khiao', tone: ThaiTone.Rising, translation: 'green' },
            { word: '‡∏ü‡πâ‡∏≤', transliteration: 'faa', tone: ThaiTone.High, translation: 'light blue' },
            { word: '‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á', transliteration: 'lueang', tone: ThaiTone.Rising, translation: 'yellow' },
            { word: '‡∏™‡πâ‡∏°', transliteration: 'som', tone: ThaiTone.Falling, translation: 'orange' },
            { word: '‡∏ä‡∏°‡∏û‡∏π', syllables: ['‡∏ä‡∏°', '‡∏û‡∏π'], targetIndex: 1, transliteration: 'chom-phoo', tone: ThaiTone.Mid, translation: 'pink' },
            { word: '‡∏°‡πà‡∏ß‡∏á', transliteration: 'muang', tone: ThaiTone.Falling, translation: 'purple' },

            // Body Parts
            { word: '‡∏ï‡∏≤', transliteration: 'taa', tone: ThaiTone.Mid, translation: 'eye' },
            { word: '‡∏´‡∏π', transliteration: 'hoo', tone: ThaiTone.Rising, translation: 'ear' },
            { word: '‡∏à‡∏°‡∏π‡∏Å', syllables: ['‡∏à', '‡∏°‡∏π‡∏Å'], targetIndex: 1, transliteration: 'ja-mook', tone: ThaiTone.Low, translation: 'nose' },
            { word: '‡∏õ‡∏≤‡∏Å', transliteration: 'paak', tone: ThaiTone.Low, translation: 'mouth' },
            { word: '‡∏°‡∏∑‡∏≠', transliteration: 'mue', tone: ThaiTone.Mid, translation: 'hand' },
            { word: '‡πÅ‡∏Ç‡∏ô', transliteration: 'khaen', tone: ThaiTone.Rising, translation: 'arm' },
            { word: '‡∏Ç‡∏≤', transliteration: 'khaa', tone: ThaiTone.Rising, translation: 'leg' },
            { word: '‡πÄ‡∏ó‡πâ‡∏≤', transliteration: 'thao', tone: ThaiTone.High, translation: 'foot' },
            { word: '‡∏´‡∏±‡∏ß', transliteration: 'hua', tone: ThaiTone.Rising, translation: 'head' },
            { word: '‡∏ú‡∏°', transliteration: 'phom', tone: ThaiTone.Rising, translation: 'hair' },

            // Family
            { word: '‡πÅ‡∏°‡πà', transliteration: 'mae', tone: ThaiTone.Falling, translation: 'mother' },
            { word: '‡∏û‡πà‡∏≠', transliteration: 'phor', tone: ThaiTone.Falling, translation: 'father' },
            { word: '‡∏û‡∏µ‡πà', transliteration: 'phee', tone: ThaiTone.Falling, translation: 'older sibling' },
            { word: '‡∏ô‡πâ‡∏≠‡∏á', transliteration: 'nong', tone: ThaiTone.High, translation: 'younger sibling' },
            { word: '‡∏õ‡πâ‡∏≤', transliteration: 'paa', tone: ThaiTone.Falling, translation: 'aunt' },
            { word: '‡∏ô‡πâ‡∏≤', transliteration: 'naa', tone: ThaiTone.High, translation: 'aunt/uncle (younger)' },
            { word: '‡∏•‡∏π‡∏Å', transliteration: 'look', tone: ThaiTone.Falling, translation: 'child' },
            { word: '‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô', transliteration: 'phuean', tone: ThaiTone.Falling, translation: 'friend' },

            // Food & Drink
            { word: '‡∏Ç‡πâ‡∏≤‡∏ß', transliteration: 'khao', tone: ThaiTone.Falling, translation: 'rice' },
            { word: '‡∏ô‡πâ‡∏≥', transliteration: 'naam', tone: ThaiTone.High, translation: 'water' },
            { word: '‡πÑ‡∏Å‡πà', transliteration: 'kai', tone: ThaiTone.Low, translation: 'chicken' },
            { word: '‡∏´‡∏°‡∏π', transliteration: 'moo', tone: ThaiTone.Rising, translation: 'pig/pork' },
            { word: '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠', transliteration: 'nuea', tone: ThaiTone.High, translation: 'meat/beef' },
            { word: '‡∏õ‡∏•‡∏≤', transliteration: 'plaa', tone: ThaiTone.Mid, translation: 'fish' },
            { word: '‡πÑ‡∏Ç‡πà', transliteration: 'khai', tone: ThaiTone.Low, translation: 'egg' },
            { word: '‡∏ú‡∏±‡∏Å', transliteration: 'phak', tone: ThaiTone.Low, translation: 'vegetable' },
            { word: '‡∏ú‡∏•‡πÑ‡∏°‡πâ', syllables: ['‡∏ú‡∏•', '‡∏•‡∏∞', '‡πÑ‡∏°‡πâ'], targetIndex: 2, transliteration: 'phon-la-maai', tone: ThaiTone.High, translation: 'fruit' },
            { word: '‡∏Å‡∏•‡πâ‡∏ß‡∏¢', transliteration: 'gluay', tone: ThaiTone.Falling, translation: 'banana' },
            { word: '‡∏™‡πâ‡∏°', transliteration: 'som', tone: ThaiTone.Falling, translation: 'orange (fruit)' },
            { word: '‡∏ô‡∏°', transliteration: 'nom', tone: ThaiTone.Mid, translation: 'milk' },
            { word: '‡∏ä‡∏≤', transliteration: 'chaa', tone: ThaiTone.Mid, translation: 'tea' },
            { word: '‡∏Å‡∏≤‡πÅ‡∏ü', syllables: ['‡∏Å‡∏≤', '‡πÅ‡∏ü'], targetIndex: 0, transliteration: 'gaa-fae', tone: ThaiTone.Mid, translation: 'coffee' },
            { word: '‡∏Ç‡∏ô‡∏°', syllables: ['‡∏Ç', '‡∏ô‡∏°'], targetIndex: 1, transliteration: 'kha-nom', tone: ThaiTone.Rising, translation: 'snack/dessert' },
            { word: '‡πÄ‡∏ú‡πá‡∏î', transliteration: 'phet', tone: ThaiTone.Low, translation: 'spicy' },
            { word: '‡∏´‡∏ß‡∏≤‡∏ô', transliteration: 'waan', tone: ThaiTone.Rising, translation: 'sweet' },
            { word: '‡πÄ‡∏Ñ‡πá‡∏°', transliteration: 'khem', tone: ThaiTone.Mid, translation: 'salty' },
            { word: '‡πÄ‡∏õ‡∏£‡∏µ‡πâ‡∏¢‡∏ß', transliteration: 'prieo', tone: ThaiTone.Falling, translation: 'sour' },

            // Places
            { word: '‡∏ö‡πâ‡∏≤‡∏ô', transliteration: 'baan', tone: ThaiTone.Falling, translation: 'house/home' },
            { word: '‡∏ß‡∏±‡∏î', transliteration: 'wat', tone: ThaiTone.High, translation: 'temple' },
            { word: '‡∏ï‡∏•‡∏≤‡∏î', syllables: ['‡∏ï', '‡∏•‡∏≤‡∏î'], targetIndex: 1, transliteration: 'ta-laat', tone: ThaiTone.Low, translation: 'market' },
            { word: '‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', syllables: ['‡πÇ‡∏£‡∏á', '‡πÄ‡∏£‡∏µ‡∏¢‡∏ô'], targetIndex: 0, transliteration: 'rong-rian', tone: ThaiTone.Mid, translation: 'school' },
            { word: '‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•', syllables: ['‡πÇ‡∏£‡∏á', '‡∏û‡∏¢‡∏≤', '‡∏ö‡∏≤‡∏•'], targetIndex: 0, transliteration: 'rong-pha-yaa-baan', tone: ThaiTone.Mid, translation: 'hospital' },
            { word: '‡∏£‡πâ‡∏≤‡∏ô', transliteration: 'raan', tone: ThaiTone.High, translation: 'shop' },
            { word: '‡∏†‡∏π‡πÄ‡∏Ç‡∏≤', transliteration: 'phu-khao', tone: ThaiTone.Rising, translation: 'mountain' },
            { word: '‡∏ó‡∏∞‡πÄ‡∏•', transliteration: 'tha-lay', tone: ThaiTone.Mid, translation: 'sea' },
            { word: '‡πÅ‡∏°‡πà‡∏ô‡πâ‡∏≥', syllables: ['‡πÅ‡∏°‡πà', '‡∏ô‡πâ‡∏≥'], targetIndex: 1, transliteration: 'mae-naam', tone: ThaiTone.High, translation: 'river' },
            { word: '‡∏´‡πâ‡∏≠‡∏á', transliteration: 'hong', tone: ThaiTone.Falling, translation: 'room' },

            // Verbs (Actions)
            { word: '‡πÑ‡∏õ', transliteration: 'pai', tone: ThaiTone.Mid, translation: 'go' },
            { word: '‡∏°‡∏≤', transliteration: 'maa', tone: ThaiTone.Mid, translation: 'come' },
            { word: '‡∏Å‡∏¥‡∏ô', transliteration: 'gin', tone: ThaiTone.Mid, translation: 'eat' },
            { word: '‡∏ô‡∏≠‡∏ô', transliteration: 'norn', tone: ThaiTone.Mid, translation: 'sleep' },
            { word: '‡∏ô‡∏±‡πà‡∏á', transliteration: 'nang', tone: ThaiTone.Low, translation: 'sit' },
            { word: '‡∏¢‡∏∑‡∏ô', transliteration: 'yuen', tone: ThaiTone.Mid, translation: 'stand' },
            { word: '‡πÄ‡∏î‡∏¥‡∏ô', transliteration: 'doen', tone: ThaiTone.Mid, translation: 'walk' },
            { word: '‡∏ß‡∏¥‡πà‡∏á', transliteration: 'wing', tone: ThaiTone.Falling, translation: 'run' },
            { word: '‡∏î‡∏π', transliteration: 'doo', tone: ThaiTone.Mid, translation: 'look/watch' },
            { word: '‡∏ü‡∏±‡∏á', transliteration: 'fang', tone: ThaiTone.Mid, translation: 'listen' },
            { word: '‡∏û‡∏π‡∏î', transliteration: 'poot', tone: ThaiTone.Falling, translation: 'speak' },
            { word: '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô', transliteration: 'khian', tone: ThaiTone.Rising, translation: 'write' },
            { word: '‡∏≠‡πà‡∏≤‡∏ô', transliteration: 'aan', tone: ThaiTone.Low, translation: 'read' },
            { word: '‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', transliteration: 'rian', tone: ThaiTone.Mid, translation: 'study' },
            { word: '‡∏™‡∏≠‡∏ô', transliteration: 'sorn', tone: ThaiTone.Rising, translation: 'teach' },
            { word: '‡∏ó‡∏≥', transliteration: 'tham', tone: ThaiTone.Mid, translation: 'do/make' },
            { word: '‡πÉ‡∏´‡πâ', transliteration: 'hai', tone: ThaiTone.Falling, translation: 'give' },
            { word: '‡πÄ‡∏≠‡∏≤', transliteration: 'ao', tone: ThaiTone.Mid, translation: 'take' },
            { word: '‡∏ã‡∏∑‡πâ‡∏≠', transliteration: 'sue', tone: ThaiTone.High, translation: 'buy' },
            { word: '‡∏Ç‡∏≤‡∏¢', transliteration: 'khaai', tone: ThaiTone.Rising, translation: 'sell' },
            { word: '‡∏£‡∏±‡∏Å', transliteration: 'rak', tone: ThaiTone.High, translation: 'love' },
            { word: '‡πÇ‡∏Å‡∏£‡∏ò', transliteration: 'groat', tone: ThaiTone.Low, translation: 'angry' },
            { word: '‡∏ä‡∏≠‡∏ö', transliteration: 'chorp', tone: ThaiTone.Falling, translation: 'like' },
            { word: '‡πÄ‡∏Å‡∏•‡∏µ‡∏¢‡∏î', transliteration: 'gliat', tone: ThaiTone.Low, translation: 'hate' },
            { word: '‡∏Å‡∏•‡∏±‡∏ß', transliteration: 'glua', tone: ThaiTone.Mid, translation: 'fear' },
            { word: '‡∏Ñ‡∏¥‡∏î', transliteration: 'khit', tone: ThaiTone.High, translation: 'think' },
            { word: '‡∏£‡∏π‡πâ', transliteration: 'roo', tone: ThaiTone.High, translation: 'know' },
            { word: '‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à', syllables: ['‡πÄ‡∏Ç‡πâ‡∏≤', '‡πÉ‡∏à'], targetIndex: 0, transliteration: 'khao-jai', tone: ThaiTone.Falling, translation: 'understand' },
            { word: '‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡∏∞', syllables: ['‡∏´‡∏±‡∏ß', '‡πÄ‡∏£‡∏≤‡∏∞'], targetIndex: 1, transliteration: 'hua-raw', tone: ThaiTone.High, translation: 'laugh' },
            { word: '‡∏£‡πâ‡∏≠‡∏á‡πÑ‡∏´‡πâ', syllables: ['‡∏£‡πâ‡∏≠‡∏á', '‡πÑ‡∏´‡πâ'], targetIndex: 1, transliteration: 'rong-hai', tone: ThaiTone.Falling, translation: 'cry' },

            // Adjectives
            { word: '‡∏î‡∏µ', transliteration: 'dee', tone: ThaiTone.Mid, translation: 'good' },
            { word: '‡πÅ‡∏¢‡πà', transliteration: 'yae', tone: ThaiTone.Falling, translation: 'bad' },
            { word: '‡πÉ‡∏´‡∏ç‡πà', transliteration: 'yai', tone: ThaiTone.Low, translation: 'big' },
            { word: '‡πÄ‡∏•‡πá‡∏Å', transliteration: 'lek', tone: ThaiTone.High, translation: 'small' },
            { word: '‡∏™‡∏π‡∏á', transliteration: 'soong', tone: ThaiTone.Rising, translation: 'tall/high' },
            { word: '‡πÄ‡∏ï‡∏µ‡πâ‡∏¢', transliteration: 'tia', tone: ThaiTone.Falling, translation: 'short (height)' },
            { word: '‡∏™‡∏±‡πâ‡∏ô', transliteration: 'san', tone: ThaiTone.Falling, translation: 'short (length)' },
            { word: '‡∏¢‡∏≤‡∏ß', transliteration: 'yaao', tone: ThaiTone.Mid, translation: 'long' },
            { word: '‡∏´‡∏ô‡∏±‡∏Å', transliteration: 'nak', tone: ThaiTone.Low, translation: 'heavy' },
            { word: '‡πÄ‡∏ö‡∏≤', transliteration: 'bao', tone: ThaiTone.Mid, translation: 'light (weight)' },
            { word: '‡∏≠‡πâ‡∏ß‡∏ô', transliteration: 'auan', tone: ThaiTone.Falling, translation: 'fat' },
            { word: '‡∏ú‡∏≠‡∏°', transliteration: 'phorm', tone: ThaiTone.Rising, translation: 'thin' },
            { word: '‡∏™‡∏ß‡∏¢', transliteration: 'suay', tone: ThaiTone.Rising, translation: 'beautiful' },
            { word: '‡∏´‡∏•‡πà‡∏≠', transliteration: 'lor', tone: ThaiTone.Low, translation: 'handsome' },
            { word: '‡∏£‡πâ‡∏≠‡∏ô', transliteration: 'ron', tone: ThaiTone.High, translation: 'hot' },
            { word: '‡∏´‡∏ô‡∏≤‡∏ß', transliteration: 'naao', tone: ThaiTone.Rising, translation: 'cold' },
            { word: '‡πÉ‡∏´‡∏°‡πà', transliteration: 'mai', tone: ThaiTone.Low, translation: 'new' },
            { word: '‡πÄ‡∏Å‡πà‡∏≤', transliteration: 'gao', tone: ThaiTone.Low, translation: 'old' },
            { word: '‡∏¢‡∏≤‡∏Å', transliteration: 'yaak', tone: ThaiTone.Falling, translation: 'difficult' },
            { word: '‡∏á‡πà‡∏≤‡∏¢', transliteration: 'ngaai', tone: ThaiTone.Falling, translation: 'easy' },
            { word: '‡∏ñ‡∏π‡∏Å', transliteration: 'thook', tone: ThaiTone.Low, translation: 'cheap/correct' },
            { word: '‡πÅ‡∏û‡∏á', transliteration: 'phaeng', tone: ThaiTone.Mid, translation: 'expensive' },
            { word: '‡πÄ‡∏£‡πá‡∏ß', transliteration: 'rew', tone: ThaiTone.Mid, translation: 'fast' },
            { word: '‡∏ä‡πâ‡∏≤', transliteration: 'chaa', tone: ThaiTone.High, translation: 'slow' },
            { word: '‡∏™‡∏∞‡∏≠‡∏≤‡∏î', syllables: ['‡∏™', '‡∏≠‡∏≤‡∏î'], targetIndex: 1, transliteration: 'sa-aat', tone: ThaiTone.Low, translation: 'clean' },
            { word: '‡∏™‡∏Å‡∏õ‡∏£‡∏Å', syllables: ['‡∏™‡∏Å', '‡∏Å‡∏∞', '‡∏õ‡∏£‡∏Å'], targetIndex: 2, transliteration: 'sok-ga-prok', tone: ThaiTone.Low, translation: 'dirty' },

            // Time & Days
            { word: '‡∏ß‡∏±‡∏ô', transliteration: 'wan', tone: ThaiTone.Mid, translation: 'day' },
            { word: '‡∏Ñ‡∏∑‡∏ô', transliteration: 'khuen', tone: ThaiTone.Mid, translation: 'night' },
            { word: '‡πÄ‡∏ä‡πâ‡∏≤', transliteration: 'chao', tone: ThaiTone.High, translation: 'morning' },
            { word: '‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á', transliteration: 'thiang', tone: ThaiTone.Falling, translation: 'noon' },
            { word: '‡∏ö‡πà‡∏≤‡∏¢', transliteration: 'baai', tone: ThaiTone.Low, translation: 'afternoon' },
            { word: '‡πÄ‡∏¢‡πá‡∏ô', transliteration: 'yen', tone: ThaiTone.Mid, translation: 'evening' },
            { word: '‡∏õ‡∏µ', transliteration: 'pee', tone: ThaiTone.Mid, translation: 'year' },
            { word: '‡πÄ‡∏î‡∏∑‡∏≠‡∏ô', transliteration: 'duean', tone: ThaiTone.Mid, translation: 'month' },
            { word: '‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå', syllables: ['‡∏≠‡∏≤', '‡∏ó‡∏¥‡∏ï‡∏¢‡πå'], targetIndex: 1, transliteration: 'aa-thit', tone: ThaiTone.High, translation: 'week/sun' },
            { word: '‡πÄ‡∏ß‡∏•‡∏≤', syllables: ['‡πÄ‡∏ß', '‡∏•‡∏≤'], targetIndex: 0, transliteration: 'way-laa', tone: ThaiTone.Mid, translation: 'time' },
            { word: '‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ', syllables: ['‡∏ß‡∏±‡∏ô', '‡∏ô‡∏µ‡πâ'], targetIndex: 1, transliteration: 'wan-nee', tone: ThaiTone.High, translation: 'today' },
            { word: '‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô', syllables: ['‡πÄ‡∏°‡∏∑‡πà‡∏≠', '‡∏ß‡∏≤‡∏ô'], targetIndex: 0, transliteration: 'muea-waan', tone: ThaiTone.Falling, translation: 'yesterday' },
            { word: '‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ', syllables: ['‡∏û‡∏£‡∏∏‡πà‡∏á', '‡∏ô‡∏µ‡πâ'], targetIndex: 0, transliteration: 'phrung-nee', tone: ThaiTone.Falling, translation: 'tomorrow' },

            // Animals
            { word: '‡∏ô‡∏Å', transliteration: 'nok', tone: ThaiTone.High, translation: 'bird' },
            { word: '‡πÅ‡∏°‡∏ß', transliteration: 'maew', tone: ThaiTone.Mid, translation: 'cat' },
            { word: '‡∏´‡∏°‡∏≤', transliteration: 'maa', tone: ThaiTone.Rising, translation: 'dog' },
            { word: '‡∏ä‡πâ‡∏≤‡∏á', transliteration: 'chaang', tone: ThaiTone.High, translation: 'elephant' },
            { word: '‡∏°‡πâ‡∏≤', transliteration: 'maa', tone: ThaiTone.High, translation: 'horse' },
            { word: '‡∏ß‡∏±‡∏ß', transliteration: 'wua', tone: ThaiTone.Mid, translation: 'cow' },
            { word: '‡∏Ñ‡∏ß‡∏≤‡∏¢', transliteration: 'khwaai', tone: ThaiTone.Mid, translation: 'buffalo' },
            { word: '‡πÄ‡∏õ‡πá‡∏î', transliteration: 'pet', tone: ThaiTone.Low, translation: 'duck' },
            { word: '‡∏´‡∏ô‡∏π', transliteration: 'noo', tone: ThaiTone.Rising, translation: 'mouse' },
            { word: '‡∏á‡∏π', transliteration: 'ngoo', tone: ThaiTone.Mid, translation: 'snake' },
            { word: '‡∏¢‡∏∏‡∏á', transliteration: 'yung', tone: ThaiTone.Mid, translation: 'mosquito' },
            { word: '‡∏°‡∏î', transliteration: 'mot', tone: ThaiTone.High, translation: 'ant' },
            { word: '‡πÄ‡∏™‡∏∑‡∏≠', transliteration: 'sua', tone: ThaiTone.Rising, translation: 'tiger' },
            { word: '‡∏•‡∏¥‡∏á', transliteration: 'ling', tone: ThaiTone.Mid, translation: 'monkey' },

            // Questions & Pronouns
            { word: '‡πÉ‡∏Ñ‡∏£', transliteration: 'khrai', tone: ThaiTone.Mid, translation: 'who' },
            { word: '‡∏≠‡∏∞‡πÑ‡∏£', syllables: ['‡∏≠', '‡∏∞‡πÑ‡∏£'], targetIndex: 1, transliteration: 'a-rai', tone: ThaiTone.Mid, translation: 'what' },
            { word: '‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô', syllables: ['‡∏ó‡∏µ‡πà', '‡πÑ‡∏´‡∏ô'], targetIndex: 1, transliteration: 'thee-nai', tone: ThaiTone.Rising, translation: 'where' },
            { word: '‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà', syllables: ['‡πÄ‡∏°‡∏∑‡πà‡∏≠', '‡πÑ‡∏´‡∏£‡πà'], targetIndex: 1, transliteration: 'muea-rai', tone: ThaiTone.Low, translation: 'when' },
            { word: '‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£', syllables: ['‡∏≠‡∏¢‡πà‡∏≤‡∏á', '‡πÑ‡∏£'], targetIndex: 0, transliteration: 'yaang-rai', tone: ThaiTone.Low, translation: 'how' },
            { word: '‡∏ó‡∏≥‡πÑ‡∏°', syllables: ['‡∏ó‡∏≥', '‡πÑ‡∏°'], targetIndex: 1, transliteration: 'tham-mai', tone: ThaiTone.Mid, translation: 'why' },
            { word: '‡πÉ‡∏ä‡πà', transliteration: 'chai', tone: ThaiTone.Falling, translation: 'yes' },
            { word: '‡πÑ‡∏°‡πà', transliteration: 'mai', tone: ThaiTone.Falling, translation: 'no/not' },
            { word: '‡∏ú‡∏°', transliteration: 'phom', tone: ThaiTone.Rising, translation: 'I (male)' },
            { word: '‡∏â‡∏±‡∏ô', transliteration: 'chan', tone: ThaiTone.Rising, translation: 'I (female/informal)' },
            { word: '‡∏Ñ‡∏∏‡∏ì', transliteration: 'khun', tone: ThaiTone.Mid, translation: 'you' },
            { word: '‡πÄ‡∏Ç‡∏≤', transliteration: 'khao', tone: ThaiTone.Rising, translation: 'he/she/they' },
            { word: '‡πÄ‡∏£‡∏≤', transliteration: 'rao', tone: ThaiTone.Mid, translation: 'we' },
            { word: '‡∏°‡∏±‡∏ô', transliteration: 'man', tone: ThaiTone.Mid, translation: 'it' },

            // Nature
            { word: '‡∏î‡∏¥‡∏ô', transliteration: 'din', tone: ThaiTone.Mid, translation: 'soil' },
            { word: '‡∏´‡∏¥‡∏ô', transliteration: 'hin', tone: ThaiTone.Rising, translation: 'stone' },
            { word: '‡∏ó‡∏£‡∏≤‡∏¢', transliteration: 'saai', tone: ThaiTone.Mid, translation: 'sand' },
            { word: '‡πÅ‡∏î‡∏î', transliteration: 'daet', tone: ThaiTone.Low, translation: 'sunlight' },
            { word: '‡∏ù‡∏ô', transliteration: 'fon', tone: ThaiTone.Rising, translation: 'rain' },
            { word: '‡∏•‡∏°', transliteration: 'lom', tone: ThaiTone.Mid, translation: 'wind' },
            { word: '‡πÑ‡∏ü', transliteration: 'fai', tone: ThaiTone.Mid, translation: 'fire' },
            { word: '‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ', syllables: ['‡∏ï‡πâ‡∏ô', '‡πÑ‡∏°‡πâ'], targetIndex: 0, transliteration: 'ton-maai', tone: ThaiTone.Falling, translation: 'tree' },
            { word: '‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ', syllables: ['‡∏î‡∏≠‡∏Å', '‡πÑ‡∏°‡πâ'], targetIndex: 1, transliteration: 'dok-maai', tone: ThaiTone.High, translation: 'flower' },
            { word: '‡∏´‡∏ç‡πâ‡∏≤', transliteration: 'yaa', tone: ThaiTone.Falling, translation: 'grass' },
            { word: '‡∏õ‡πà‡∏≤', transliteration: 'paa', tone: ThaiTone.Low, translation: 'forest' },

            // Common Multi-syllable & Phrases
            { word: '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ', syllables: ['‡∏™‡∏ß‡∏±‡∏™', '‡∏î‡∏µ'], targetIndex: 0, transliteration: 'sa-wat-dee', tone: ThaiTone.Low, translation: 'hello (part 1)' },
            { word: '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ', syllables: ['‡∏™‡∏ß‡∏±‡∏™', '‡∏î‡∏µ'], targetIndex: 1, transliteration: 'sa-wat-dee', tone: ThaiTone.Mid, translation: 'hello (part 2)' },
            { word: '‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì', syllables: ['‡∏Ç‡∏≠‡∏ö', '‡∏Ñ‡∏∏‡∏ì'], targetIndex: 0, transliteration: 'khop-khun', tone: ThaiTone.Low, translation: 'thank you (part 1)' },
            { word: '‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©', syllables: ['‡∏Ç‡∏≠', '‡πÇ‡∏ó‡∏©'], targetIndex: 1, transliteration: 'kaw-thoat', tone: ThaiTone.Falling, translation: 'sorry' },
            { word: '‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ', syllables: ['‡πÇ‡∏ä‡∏Ñ', '‡∏î‡∏µ'], targetIndex: 0, transliteration: 'choak-dee', tone: ThaiTone.Falling, translation: 'good luck' },
            { word: '‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å', syllables: ['‡∏ô‡πà‡∏≤', '‡∏£‡∏±‡∏Å'], targetIndex: 0, transliteration: 'naa-rak', tone: ThaiTone.Falling, translation: 'cute' },
            { word: '‡∏≠‡∏≤‡∏Å‡∏≤‡∏®', syllables: ['‡∏≠‡∏≤', '‡∏Å‡∏≤‡∏®'], targetIndex: 1, transliteration: 'aa-gaat', tone: ThaiTone.Low, translation: 'weather' },
            { word: '‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÑ‡∏ó‡∏¢', syllables: ['‡πÄ‡∏°‡∏∑‡∏≠‡∏á', '‡πÑ‡∏ó‡∏¢'], targetIndex: 0, transliteration: 'muang-thai', tone: ThaiTone.Mid, translation: 'Thailand' }
        ];

        // Ensure we actually have ~200 items by duplicating with different target indices or variations if needed
        // (Above list has ~170, adding a few more essential words to hit the mark)
        const additional = [
            { word: '‡πÄ‡∏õ‡πá‡∏î', transliteration: 'pet', tone: ThaiTone.Low, translation: 'duck' },
            { word: '‡πÑ‡∏Å‡πà', transliteration: 'kai', tone: ThaiTone.Low, translation: 'chicken' },
            { word: '‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤', syllables: ['‡∏Å‡∏£‡∏∞', '‡πÄ‡∏õ‡πã‡∏≤'], targetIndex: 1, transliteration: 'gra-pao', tone: ThaiTone.Rising, translation: 'bag' },
            { word: '‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ', syllables: ['‡πÄ‡∏Å‡πâ‡∏≤', '‡∏≠‡∏µ‡πâ'], targetIndex: 1, transliteration: 'gao-ee', tone: ThaiTone.Falling, translation: 'chair' },
            { word: '‡πÇ‡∏ï‡πä‡∏∞', transliteration: 'toh', tone: ThaiTone.High, translation: 'table' },
            { word: '‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠', syllables: ['‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑', '‡∏≠'], targetIndex: 0, transliteration: 'nang-sue', tone: ThaiTone.Rising, translation: 'book' },
            { word: '‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå', syllables: ['‡πÇ‡∏ó‡∏£', '‡∏£‡∏∞', '‡∏®‡∏±‡∏û‡∏ó‡πå'], targetIndex: 2, transliteration: 'tho-ra-sap', tone: ThaiTone.Low, translation: 'phone' },
            { word: '‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•', syllables: ['‡∏ô‡πâ‡∏≥', '‡∏ï‡∏≤‡∏•'], targetIndex: 1, transliteration: 'naam-taan', tone: ThaiTone.Mid, translation: 'sugar' },
            { word: '‡πÄ‡∏Å‡∏•‡∏∑‡∏≠', transliteration: 'glua', tone: ThaiTone.Mid, translation: 'salt' },
            { word: '‡∏ï‡∏∞‡πÄ‡∏Å‡∏µ‡∏¢‡∏ö', syllables: ['‡∏ï‡∏∞', '‡πÄ‡∏Å‡∏µ‡∏¢‡∏ö'], targetIndex: 1, transliteration: 'ta-giap', tone: ThaiTone.Low, translation: 'chopsticks' },
            { word: '‡∏ä‡πâ‡∏≠‡∏ô', transliteration: 'chorn', tone: ThaiTone.High, translation: 'spoon' },
            { word: '‡∏™‡πâ‡∏≠‡∏°', transliteration: 'som', tone: ThaiTone.Falling, translation: 'fork' },
            { word: '‡∏à‡∏≤‡∏ô', transliteration: 'jaan', tone: ThaiTone.Mid, translation: 'plate' },
            { word: '‡πÅ‡∏Å‡πâ‡∏ß‡∏ô‡πâ‡∏≥', syllables: ['‡πÅ‡∏Å‡πâ‡∏ß', '‡∏ô‡πâ‡∏≥'], targetIndex: 0, transliteration: 'gaew-naam', tone: ThaiTone.Falling, translation: 'drinking glass' },
            { word: '‡∏õ‡∏£‡∏∞‡∏ï‡∏π', syllables: ['‡∏õ‡∏£‡∏∞', '‡∏ï‡∏π'], targetIndex: 1, transliteration: 'pra-too', tone: ThaiTone.Mid, translation: 'door' },
            { word: '‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á', syllables: ['‡∏´‡∏ô‡πâ‡∏≤', '‡∏ï‡πà‡∏≤‡∏á'], targetIndex: 1, transliteration: 'naa-taang', tone: ThaiTone.Low, translation: 'window' },
            { word: '‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏≤', syllables: ['‡∏´‡∏•‡∏±‡∏á', '‡∏Ñ‡∏≤'], targetIndex: 0, transliteration: 'lang-khaa', tone: ThaiTone.Rising, translation: 'roof' },
            { word: '‡∏û‡∏∑‡πâ‡∏ô', transliteration: 'phuen', tone: ThaiTone.High, translation: 'floor' },
            { word: '‡∏Å‡∏£‡∏∞‡∏à‡∏Å', syllables: ['‡∏Å‡∏£‡∏∞', '‡∏à‡∏Å'], targetIndex: 1, transliteration: 'gra-jok', tone: ThaiTone.Low, translation: 'mirror' },
            { word: '‡∏û‡∏±‡∏î‡∏•‡∏°', syllables: ['‡∏û‡∏±‡∏î', '‡∏•‡∏°'], targetIndex: 0, transliteration: 'phat-lom', tone: ThaiTone.High, translation: 'fan' },
            { word: '‡∏ú‡πâ‡∏≤‡∏´‡πà‡∏°', syllables: ['‡∏ú‡πâ‡∏≤', '‡∏´‡πà‡∏°'], targetIndex: 1, transliteration: 'phaa-hom', tone: ThaiTone.Low, translation: 'blanket' },
            { word: '‡∏´‡∏°‡∏≠‡∏ô', transliteration: 'morn', tone: ThaiTone.Rising, translation: 'pillow' },
            { word: '‡πÄ‡∏ï‡∏µ‡∏¢‡∏á', transliteration: 'tiang', tone: ThaiTone.Mid, translation: 'bed' }
        ];
        THAI_WORDS.push(...additional);

        // --- SERVICES ---
        const stopAudio = () => { if (window.speechSynthesis) window.speechSynthesis.cancel(); };
        const playThaiWord = (text) => {
            stopAudio();
            setTimeout(() => {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'th-TH';
                utterance.rate = 0.8;
                window.speechSynthesis.speak(utterance);
            }, 10);
        };

        // --- UI COMPONENTS ---
        const ToneIcon = ({ tone, className = "w-12 h-4" }) => {
            const pathProps = { fill: "none", stroke: "currentColor", strokeWidth: "6", strokeLinecap: "round" };
            switch (tone) {
                case ThaiTone.Mid: return h('svg', { className, viewBox: "0 0 100 40" }, h('line', { x1: "10", y1: "20", x2: "90", y2: "20", ...pathProps }));
                case ThaiTone.Low: return h('svg', { className, viewBox: "0 0 100 40" }, h('line', { x1: "10", y1: "30", x2: "90", y2: "30", ...pathProps }));
                case ThaiTone.Falling: return h('svg', { className, viewBox: "0 0 100 40" }, h('path', { d: "M10 30 Q 50 10, 90 30", ...pathProps }));
                case ThaiTone.High: return h('svg', { className, viewBox: "0 0 100 40" }, h('line', { x1: "10", y1: "10", x2: "90", y2: "10", ...pathProps }));
                case ThaiTone.Rising: return h('svg', { className, viewBox: "0 0 100 40" }, h('path', { d: "M10 30 Q 50 50, 90 10", ...pathProps }));
                default: return null;
            }
        };

        const ToneButton = ({ tone, onClick, disabled, isSelected, isCorrect }) => {
            const styles = isCorrect ? 'bg-green-600 border-green-400 text-white' : 
                         (isSelected ? 'bg-red-600 border-red-400 text-white' : 'bg-[#0f3d2a] border-[#2a6b4f] text-[#facc15]');
            return h('button', {
                onClick: () => onClick(tone),
                disabled,
                className: `flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all active:scale-95 w-full aspect-square md:aspect-auto md:h-24 ${styles} ${disabled && !isCorrect && !isSelected ? 'opacity-50 grayscale' : 'hover:brightness-110'}`
            },
                h('div', { className: "mb-2" }, h(ToneIcon, { tone, className: "w-8 h-4 md:w-12 md:h-6" })),
                h('span', { className: "text-[10px] md:text-xs font-bold uppercase tracking-wider" }, tone)
            );
        };

        // --- APP ---
        const SESSION_TARGET = 10;
        const TIMER_DURATION = 10;

        const App = () => {
            const [hasStarted, setHasStarted] = useState(false);
            const [showPhonetics, setShowPhonetics] = useState(true);
            const [gameState, setGameState] = useState({
                currentWord: null, streak: 0, timeLeft: TIMER_DURATION, status: 'playing',
                selectedTone: null, sessionCount: 0, correctInSession: 0
            });
            const timerRef = useRef(null);

            const startRound = useCallback((reset = false) => {
                stopAudio();
                if (gameState.sessionCount >= SESSION_TARGET && !reset) {
                    setGameState(prev => ({ ...prev, status: 'summary' }));
                    return;
                }
                const word = THAI_WORDS[Math.floor(Math.random() * THAI_WORDS.length)];
                setGameState(prev => ({
                    ...prev, currentWord: word, status: 'playing', timeLeft: TIMER_DURATION,
                    selectedTone: null, sessionCount: reset ? 1 : prev.sessionCount + 1,
                    correctInSession: reset ? 0 : prev.correctInSession
                }));
                setTimeout(() => playThaiWord(word.word), 150);
            }, [gameState.sessionCount]);

            useEffect(() => {
                if (!hasStarted || gameState.status !== 'playing') return;
                timerRef.current = setInterval(() => {
                    setGameState(prev => {
                        if (prev.timeLeft <= 0.1) { clearInterval(timerRef.current); return { ...prev, timeLeft: 0, status: 'timeout' }; }
                        return { ...prev, timeLeft: prev.timeLeft - 0.1 };
                    });
                }, 100);
                return () => clearInterval(timerRef.current);
            }, [gameState.status, hasStarted]);

            const handleTone = (tone) => {
                if (gameState.status !== 'playing') return;
                if (tone === gameState.currentWord.tone) {
                    setGameState(p => ({ ...p, status: 'correct', selectedTone: tone, streak: p.streak + 1, correctInSession: p.correctInSession + 1 }));
                    setTimeout(() => startRound(), 1000);
                } else {
                    setGameState(p => ({ ...p, status: 'wrong', selectedTone: tone, streak: 0 }));
                }
            };

            const WordDisplay = () => {
                const { word, syllables, targetIndex } = gameState.currentWord;
                const baseClass = "text-6xl md:text-8xl font-black drop-shadow-2xl animate-pulse-subtle text-center";
                if (syllables) return h('div', { className: "flex flex-wrap justify-center gap-2 " + baseClass, lang: "th" },
                    syllables.map((s, i) => h('span', { key: i, className: i === targetIndex ? 'text-[#facc15] underline decoration-4 underline-offset-8' : 'opacity-20' }, s)));
                return h('span', { className: baseClass + " text-[#facc15]", lang: "th" }, word);
            };

            if (!hasStarted) return h('div', { className: "flex flex-col h-screen max-w-md mx-auto px-10 items-center justify-center text-white text-center" },
                h('div', { className: "mb-12 animate-bounce-slow" }, h('div', { className: "text-7xl mb-4" }, "üì¢"), h('h1', { className: "text-5xl font-black italic tracking-tighter uppercase" }, "Thai Tone ", h('span', { className: "text-[#facc15]" }, "Run"))),
                h('p', { className: "mb-8 opacity-80" }, "Train your ears with 200 essential words."),
                h('button', { onClick: () => { setHasStarted(true); startRound(true); }, className: "w-full bg-[#facc15] text-[#1e5e41] font-black py-6 rounded-3xl text-2xl uppercase tracking-widest shadow-xl active:scale-95" }, "Start Practice")
            );

            if (gameState.status === 'summary') return h('div', { className: "flex flex-col h-screen max-w-md mx-auto px-10 items-center justify-center text-white text-center" },
                h('div', { className: "text-7xl mb-6" }, "üèÅ"),
                h('h2', { className: "text-4xl font-black uppercase mb-4" }, "Session Complete"),
                h('div', { className: "bg-white/10 rounded-3xl p-8 w-full mb-8" },
                    h('div', { className: "text-6xl font-black text-[#facc15]" }, `${gameState.correctInSession}/${SESSION_TARGET}`),
                    h('div', { className: "opacity-50 text-xs font-bold uppercase tracking-widest mt-2" }, `Accuracy: ${(gameState.correctInSession/SESSION_TARGET)*100}%`)
                ),
                h('button', { onClick: () => startRound(true), className: "w-full bg-[#facc15] text-[#1e5e41] font-black py-5 rounded-2xl text-xl uppercase tracking-widest" }, "Play Again")
            );

            return h('div', { className: "flex flex-col h-screen max-w-md mx-auto px-6 py-6 select-none text-white overflow-hidden" },
                h('div', { className: "flex justify-between items-start mb-2" },
                    h('div', null, h('h1', { className: "text-lg font-black uppercase italic leading-none mb-1" }, "Thai Tone Run"), h('div', { className: "text-[10px] font-bold opacity-50 uppercase" }, `Word ${gameState.sessionCount}/${SESSION_TARGET}`)),
                    h('div', { className: "text-right" }, h('div', { className: "text-[10px] font-bold opacity-40 uppercase mb-1" }, "Max Streak"), h('div', { className: "text-3xl font-black text-[#facc15]" }, gameState.streak))
                ),
                h('div', { className: "flex-1 flex flex-col items-center justify-center relative" },
                    gameState.currentWord && h('div', { onClick: () => playThaiWord(gameState.currentWord.word), className: "cursor-pointer group flex flex-col items-center w-full active:scale-95 transition-transform" },
                        WordDisplay(),
                        h('div', { className: "mt-8 text-center" },
                            showPhonetics && h('div', { className: "text-xl font-bold text-white/30 uppercase tracking-[0.2em] mb-1" }, gameState.currentWord.transliteration),
                            h('div', { className: "text-lg font-medium text-[#facc15]/80 uppercase tracking-widest italic" }, gameState.currentWord.translation)
                        ),
                        h('div', { className: "h-20 flex items-center mt-6" },
                            gameState.status === 'correct' && h('div', { className: "bg-green-500 px-8 py-3 rounded-full font-black animate-bounce shadow-xl" }, "PERFECT!"),
                            (gameState.status === 'wrong' || gameState.status === 'timeout') && h('div', { className: "bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/10" },
                                h('div', { className: "text-[10px] uppercase opacity-50 mb-1" }, "Answer"), h('div', { className: "text-3xl font-black uppercase" }, gameState.currentWord.tone))
                        )
                    )
                ),
                h('div', { className: "w-full bg-white/5 h-2 rounded-full mb-8 overflow-hidden" },
                    h('div', { className: `h-full transition-all duration-100 ease-linear ${gameState.timeLeft < 3 ? 'bg-red-500' : 'bg-[#facc15]'}`, style: { width: `${(gameState.timeLeft / TIMER_DURATION) * 100}%` } })
                ),
                h('div', { className: "mb-6" },
                    (gameState.status === 'playing' || gameState.status === 'correct') ?
                        h('div', { className: "grid grid-cols-5 gap-2" },
                            Object.values(ThaiTone).map(t => h(ToneButton, { key: t, tone: t, onClick: handleTone, disabled: gameState.status !== 'playing', isSelected: gameState.selectedTone === t, isCorrect: gameState.status === 'correct' && gameState.selectedTone === t }))) :
                        h('button', { onClick: () => startRound(), className: "w-full bg-white text-[#1e5e41] font-black py-6 rounded-3xl text-2xl uppercase tracking-widest shadow-2xl active:scale-95 transition-all" }, "Next Word")
                ),
                h('div', { className: "flex justify-between items-center opacity-30 px-2" },
                    h('button', { onClick: () => setShowPhonetics(!showPhonetics), className: "text-[10px] font-bold uppercase tracking-widest" }, showPhonetics ? 'üôà Hide Phonetics' : 'üëÅÔ∏è Show Phonetics'),
                    h('p', { className: "text-[10px] font-bold uppercase tracking-widest" }, "Tap word to replay")
                )
            );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(h(React.StrictMode, null, h(App)));
    </script>
</body>
</html>
